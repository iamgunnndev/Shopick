<div class="main-content page-m">
    <div class="section-content section-content-p30">
        <div class="container-fluid">
            <h1>upload product</h1>
            <form [formGroup]="uploadFormGroup" (ngSubmit) ="onSubmit()" >
                <div formGroupName="addProduct">
                    <div class="form-group">
                        <input type="file" (change)="onImageUpload($event)">
                    </div>
                    <div>
                        <output *ngIf=successResponse class="success"><b>{{successResponse}}</b></output>
                    </div>

                    <div class="col-md-2">  <label >Product Name</label>   </div>
                    <div class="col-md-9">
                        <div class="input-space">
                            <input formControlName="name" type="text" class="form-control" >
            
                            <div *ngIf="name?.invalid  && (name!.dirty || name!.touched)" class="alert alert-danger mt-1">
                                <div *ngIf="name!.errors?.['required']|| name!.errors?.['notOnlyWhitespace']">
                                    Product Name is required
                                </div>
            
                                <div *ngIf="name!.errors?.['minlength']">
                                    Product Name must be at least 2 characters long
                                </div>
                            </div>
                        </div>
                            
                    </div>
            
                    <div class="col-md-2"><label >Description</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <textarea ng-model="myTextarea" class="form-control" formControlName="description" ></textarea>
                                <div *ngIf="description?.invalid  && (description!.dirty || description!.touched)" class="alert alert-danger mt-1">
                                    <div *ngIf="description!.errors?.['required']|| description!.errors?.['notOnlyWhitespace']">
                                        Description is required
                                    </div>
                                    <div *ngIf="description!.errors?.['minlength']">
                                        Description must be at least 2 characters long
                                    </div>
                                </div>
                            </div>
                            
                        </div> 
                        
                        <div class="col-md-2"><label > Cagetory    </label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <select formControlName="category_id" (change)="ChangeCagetory('addProduct')">
                                    <option  *ngFor="let category_id of categories" [ngValue]="category_id">
                                        {{category_id.categoryName}}                   
                                    </option> 
                                </select>
                
                                <div *ngIf="category!.invalid  && (category!.dirty || category!.touched)" class="alert alert-danger mt-1">
                                    <div *ngIf="category!.errors?.['required']">
                                        Category is required
                                    </div>
                                </div>
                
                            </div>            
                        </div>

                        <div class="col-md-2"><label >Price</label></div>
                        <div class="col-md-9">
                            <div class="input-space">
                                <input type="number" class="form-control" formControlName="unit_price">
                                <div *ngIf="price!.invalid  && (price!.dirty || price!.touched)" class="alert alert-danger mt-1">
                                    <div *ngIf="price!.errors?.['required']">
                                        Price is required
                                    </div>
                                </div>
                            </div>
                        </div>
                
                    <div class="col-md-2"><label >Quantity</label></div>
                    <div class="col-md-9">
                        <div class="input-space">
                            <input  type="number" class="form-control" formControlName="units_in_stock" >
                            <div *ngIf="iventory!.invalid  && (iventory!.dirty || iventory!.touched)" class="alert alert-danger mt-1">
                                <div *ngIf="price!.errors?.['required']">
                                    Quantity is required
                                </div>
                            </div>
                        </div>
                            
                    </div>   
                </div>   
            </form>
        </div>
    </div>
</div>